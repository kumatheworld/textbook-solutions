\documentclass[12pt]{article}
\usepackage{../common}

\title{
  \vspace{-2cm}
  Set Theory \\
  \large by Kenneth Kunen \\
  Exercise Solutions
}

\begin{document}
\maketitle

\begin{customthm}{I.4.18}
  Assume $y$ is a set such that $y\in y$ and let $x=\{y\}$. This $x$ can be expressed as $x=\{z\in y:z=y\}$ and hence it exists by Comprehension. Now we apply Foundation to $x$, which states that there is no $z$ such that $z=y\wedge z\in y$. That contradicts the assumption $y\in y$. Thus $y\notin y$ holds for any set $y$.
\end{customthm}

\begin{customthm}{I.6.23}
  Let $X$ be a non-empty subset of $(\mathbb{N}\times\mathbb{N},R)$. Let $x=\min(\dom(X))$ and $y=\min\{v\in\mathbb{N}:(x,v)\in X\}$. Then $(x,y)$ is an $R$-minimal element. $X$ has at most $y$ minimal elements other than $(x,y)$ because $X_v=\{(u,v)\in X\}$ for each $v<y$ has at most 1 minimal element and $(u,v)\in X$ such that $y\leq v$ and $(u,v)\neq(x,y)$ cannot be minimal since $(x,y)<(u,v)$ holds. Hence $X$ has only finitely many $R$-minimal elements. For each $k\in\mathbb{N}$, we have a subset $\{(x,y)\in\mathbb{N}\times\mathbb{N}:x+y+1=k\}$ of size $k$, every element of which is an $R$-minimal element.
\end{customthm}

\begin{customthm}{I.6.26}
  $\in$ totally orders $3=\{0,1,2\}$ because $0\in1=\{0\}$, $0\in2=\{0,1\}$ and $1\in2=\{0,1\}$ hold. Moreover, it is strict because none of $0\in0$, $1\in1$ or $2\in2$ holds. Indeed, $0\notin0=\emptyset$ is obvious. $1\in1$ would imply $1=0$, but we know $0\in1\setminus0$. $2\in2$ would imply either $2=0$ or $2=1$, both of which case are contradictory. Now it is clear that $\in$ well-orders $3$ because it is a strict total order and $3$ is finite.
\end{customthm}

\begin{customthm}{I.6.29}
  Assume there are distinct sets $x,y$ such that $S(x)=S(y)$. Since $x\in S(x)$, we get $x\in y$ from $x\in S(y)$ and $x\neq y$. We get $y\in x$ as well, from which we conclude that the set $\{x,y\}$ has no $\in$-minimal element. Thus $S$ is injective on $V$.
\end{customthm}

\begin{customthm}{I.7.2}
  Let $t$ be a non-empty transitive set. By Foundation, there is $x\in t$ with $x\cap t=\emptyset$. Since $t$ is transitive, $x\subseteq t$ holds and we get $x=\emptyset$ from $x\cap t=\emptyset$. Now assume $t$ has at least 1 element other than $\emptyset$. By applying Foundation to $t\setminus\{\emptyset\}$, we get $y\in t$ such that $y\neq\emptyset\wedge y\cap(t\setminus\{\emptyset\})=\emptyset$. From $y\subseteq t$ (transitivity) and $y\cap(t\setminus\{\emptyset\})=\emptyset$ we get $y\subseteq\{\emptyset\}$, which means nothing but $y=\{\emptyset\}$ since $y$ is non-empty. Now the statements in the exercise are clear.
\end{customthm}

\begin{customthm}{I.7.25}
  Any ordinal is transitive and satisfies trichotomy by definition. Conversely, under Foundation, we prove that any transitive set whose $\in$ satisfies trichotomy also satisfies irreflexivity and transitivity. Irreflexivity is obvious from Exercise I.4.18. To prove transitivity, let $z$ be a transitive set, $w,x,y\in z$ and $w\in x\in y$. If $(z,\in)$ satisfies trichotomy, either of $w\in y$, $w=y$ or $y\in w$ holds. If $w=y$, then $y\in x\in y$ would hold, producing a set $\{x,y\}$ which does not have an $\in$-minimal element, contradicting Foundation. $y\in w$ would produce a contradictory set $\{w,x,y\}$ as well. Thus $w\in y$ holds, which proves transitivity. Hence $z$ is totally ordered by $\in$ and turns out to be an ordinal by Lemma I.7.2.
\end{customthm}

\begin{customthm}{I.7.26}
  Any ordinal is a transitive set by definition and all its elements are transitive because $\in$ on it is a transitive relation by definition. We now assume Foundation to prove the converse. Let $z$ be a transitive set whose elements are all transitive sets and let $\alpha$ be the least ordinal such that $\alpha\notin z$. Note that such $\alpha$ exists by Theorem I.7.12 and Theorem I.9.3. Since any $\beta\in\alpha$ is an ordinal less than $\alpha$, we have $\beta\in z$ and thus $\alpha\subseteq z$ holds. Assume $\alpha\subsetneq z$ and let $y$ be an $\in$-minimal element of $z\setminus\alpha$. Let $x\in y$. Since $z$ is a transitive set, we have $x\in z$. On the other hand, $x\notin z\setminus\alpha$ holds since otherwise, it would contradict the minimality of $y$. Thus we get $x\in\alpha$, which proves $y\subseteq\alpha$. Now from Theorem I.7.13, $y$ turns out to be an ordinal since it is a transitive set of ordinals. Then either of $y\in\alpha$ or $y=\alpha$ holds from $y\subseteq\alpha$, the first one of which is not the case due to $y\in z\setminus\alpha$. Therefore $y=\alpha$ holds and we get $\alpha\in z$, but that contradicts the definition of $\alpha$. Thus our assumption $\alpha\subsetneq z$ is not correct and hence we conclude $\alpha=z$, which proves that $z$ is an ordinal.
\end{customthm}

\begin{customthm}{I.7.27}
  Let $A,B$ be finite sets, $f:A\rightarrow m$ and $g:B\rightarrow n$ be bijections where $m$ and $n$ are natural numbers. See lemma I.16.5 for the existence of such natural numbers. Now we prove $A\cup B\preccurlyeq m+n$ and $A\times B\approx m\cdot n$.

  To show $A\cup B\preccurlyeq m+n$, we consider a function $f\cup g:A\cup B\rightarrow m\times\{0\}\cup n\times\{1\}$ defined by $f\cup g(x)=(f(x),0)$ if $x\in A$ and $f\cup g(x)=(g(x),1)$ otherwise. Since $f$ and $g$ are injective, $f\cup g$ is also injective. Therefore we get $A\cup B\preccurlyeq m\times\{0\}\cup n\times\{1\}\approx m+n$. One can show the finiteness of $m+n$ by induction on $n$, where facts such as $m+S(n)\approx S(m+n)$ and that $S(n)$ is finite whenever $n$ is finite will be used.

  Likewise, for $A\times B\approx m\cdot n$, consider a function $f\times g:A\times B\rightarrow m\times n$ defined by $f\times g(x,y)=(f(x),g(y))$, which is bijective since $f$ and $g$ are bijective. One can show the finiteness of $m\times n$ by induction on $n$, where facts such as $m\times S(n)\approx m\times n+m$ and the closure property of $+$ on $\omega$ which is shown above will be used.

  To prove the existence of $\mathcal{P}(A)$, we first show the existence of $\mathcal{P}(m)$ by induction on $m$. It is obvious that $\mathcal{P}(\emptyset)=\{\emptyset\}=1$ exists. Now let us assume that $\mathcal{P}(m)$ exists and consider a function $h:2\times\mathcal{P}(m)\rightarrow\mathcal{P}(S(m))$ defined by $h(0,S)=S$ and $h(1,S)=S\cup\{m\}$. Since this $h$ is a bijection, we obtain $\mathcal{P}(S(m))$ by Replacement. Therefore $\mathcal{P}(m)$ exists for each $m\in\omega$. Now we can easily get $\mathcal{P}(A)=\{\{f(l):l\in S\}:S\in\mathcal{P}(m)\}$ by Replacement.
\end{customthm}

\begin{customthm}{I.9.6}
  Assume Lemma I.9.5(2). For Infinity, we consider the class of natural numbers $A$ and a relation $R$ defined by $xRy\leftrightarrow x=S(y)$. Since $R$ is set-like on $A$, $R^*$ is set-like too by the assumption. Then $\pred_{R^*}(0)=\{x\in A:x=S(S(\cdots (S(0))))\}=A$ turns out to be a set.
\end{customthm}

\begin{customthm}{I.9.8}
  If $R$ is cyclic on $A$, let $a_0,a_1,\ldots,a_{n-1},a_0$ be a cycle and consider $S=\{a_i:i<n\}$ . Since $S$ is a non-empty subset of $A$ which does not have an $R$-minimal element, $R$ is not well-founded on $A$. Hence any well-founded relation is acyclic. Now we consider the converse when the underlying set is finite. If $R$ is not well-founded on a finite set $A$, there is a non-empty $S\subseteq A$ which does not have an $R$-minimal element. Then $S$ has a cycle because otherwise, we would have an infinite sequence of distinct elements in $S$, which cannot happen since $A$ is finite. Thus any acyclic relation on a finite set is well-founded on that set.
\end{customthm}

\begin{customthm}{I.9.27}
  Since $\mathbb{R}\subseteq R(\omega)$, $\mathbb{R}\in R(\omega+1)\subseteq WF$ holds and we have $\rank(\mathbb{R})=\sup\{\rank(x)+1:x\in\mathbb{R}\}=\omega+1$. Since the Lebesgue measure $\mu$ is a function with $\{\emptyset\}\subsetneq\dom(\mu)\subseteq\mathcal{P}(\mathbb{R})$ and $\ran(\mu)\subseteq\mathbb{R}$, each element of $\mu$ is a pair $\langle x,y\rangle$ with $\rank(x)=\omega+1$ and $\rank(y)=\omega$. Thus from Lemma I.9.26 (2), each $\langle x,y\rangle\in\mu$ has rank $\omega+3$ and we get $\rank(\mu)=\omega+4$.
\end{customthm}

\begin{customthm}{I.9.39}
  To prove the 'if' part, assume that $R^*$ totally orders $A$. Let $x,y\in A$ be distinct elements. We can assume $xR^*y$ and let $xRx_1R\cdots Rx_nRy$ without loss of generality. Then by the definition of $\rank$, we have $\rank(x)<\rank(x_1)<\cdots\rank(x_n)<\rank(y)$. Thus $\rank$ is injective. To prove the 'only if' part, assume $\rank$ is injective. Let $x,y\in A$ be distinct elements and assume WLOG that $\rank(x)<\rank(y)$. By Lemma I.9.16, there is an $a\in A$ such that $aR^*y$ and $\rank(a)=\rank(x)$. Since $\rank$ is injective, this $a$ is nothing but $x$ and we get $xR^*y$. Thus $R^*$ totally orders $A$.
\end{customthm}

\begin{customthm}{I.9.40}
  Let $R_1\subseteq R_2$ be both well-founded and set-like on $A$. Then $\rank_{A,R_1}(y)\leq\rank_{A,R_2}(y)$ obviously holds for all $y\in A$ because we have $\pred_{A,R_1}\subseteq\pred_{A,R_2}$. We next show that $\rank_{A,R_1^*}(y)\leq\rank_{A,R_1}(y)$ holds for all $y\in A$. Note that $R_1^*$ is also set-like and well-founded on $A$ (see Lemma I.9.5 and Lemma I.9.15). Now let $xR_1^*y$ and consider a path $xR_1x_1R_1\cdots R_1x_nR_1y$. We have $\rank_{A,R_1}(x)+1<\rank_{A,R_1}(x_1)+1<\cdots<\rank_{A,R_1}(x_n)+1\leq\rank_{A,R_1}(y)$ and thus $\rank_{A,R_1^*}(y)\leq\rank_{A,R_1}(y)$ holds. Now if $R_1\subseteq R_2\subseteq R_1^*$, we will have $\rank_{A,R_1}(y)\leq\rank_{A,R_2}(y)\leq\rank_{A,R_1^*}(y)\leq\rank_{A,R_1}(y)$ for all $y\in A$, which says $\rank_{A,R_1}(y)=\rank_{A,R_2}(y)=\rank_{A,R_1^*}(y)$.
\end{customthm}

\begin{customthm}{I.9.41}
  We first show that $\rank_{A,R}(y)=\{\rank_{A,R}(x):x\in y\downarrow\}$ for all $y\in A$. For any $\alpha<\rank_{A,R}(y)$, there is an $x\in A$ such that $xR^*y\wedge\rank_{A,R}(x)=\alpha$ by Lemma I.9.16. Since $R$ is transitive now, $xR^*y$ simply means $xRy$, which implies such an $x$ satisfies $x\in y\downarrow$. Therefore $\rank_{A,R}(y)\subseteq\{\rank_{A,R}(x):x\in y\downarrow\}$ holds. The opposite inclusion is obvious since $\rank_{A,R}(x)<\rank_{A,R}(y)$ holds whenever $xRy$. Thus we get $\rank_{A,R}(y)=\{\rank_{A,R}(x):x\in y\downarrow\}$. Now let $X=\{a\in A:\mos_{A,R}(a)\neq\rank_{A,R}(a)\}$, assume $X$ is non-empty and let $y\in X$ be an $R$-minimal element. By the minimality of $y$ and what we have proved above, we get $\mos_{A,R}(y)=\{\mos_{A,R}(x):x\in y\downarrow\}=\{\rank_{A,R}(x):x\in y\downarrow\}=\rank(y)$, which contradicts $y\notin X$. Thus $X$ is empty and we get $\mos_{A,R}(a)=\rank_{A,R}(a)$ for all $a\in A$.
\end{customthm}

\begin{customthm}{I.9.42}
  Since $R$ is well-founded and is a transitive relation, we have $\mos_{A,R}(a)=\rank_{A,R}(a)$ for all $a\in A$ from Exercise I.9.41. Moreover, $R$ is extensional on $A$, which means $\mos_{A,R}$ is an isomorphism from $(A,R)$ to an ordinal $(\mos"A,\in)$ by Lemma I.9.35. This $(\mos"A,\in)$ is an ordinal since it is a transitive set of ordinals. Then by Theorem I.8.2, we have $\mos"A=\type(A;R)$ and thus $\mos_{A,R}$ and $\rank_{A,R}$ are both identical to the isomorphism.
\end{customthm}

\begin{customthm}{I.9.43}
  Assume $WF\nsubseteq K$ and let $x$ be an $\in$-minimal element of $WF\setminus K$. Since $x\notin K$, $x\nsubseteq K$ holds and hence there is $y\in x\setminus K$, which contradicts the minimality of $x$. Thus $WF\subseteq K$ holds.
\end{customthm}

\begin{customthm}{I.9.44}
  The proof easily follows from the fact that $x$ is an $R$-minimal element of a non-empty set $X\subseteq\cup\pred_{A,R^*}(a)$ iff $x$ is an $R$-minimal element of $X\cup\{a\}$. Note that $a$ cannot be $R$-minimal.
\end{customthm}

\begin{customthm}{I.9.46}
  Below is the proof for each item.
  \begin{enumerate}[label=\arabic*.]
    \item If $a\in A\setminus W$ was an $R$-minimal element, then $\pred_{A,R^*}(a)\subseteq W$ would hold, on which $R$ is well-founded since $R$ is well-founded on $W$ (see the proof for (2)). This shows that $a\in W$, which is a contradiction.
    \item Let $X\subseteq W$ be non-empty. We show that $X$ has an $R$-minimal element. Let $a\in X$ and consider $(\{a\}\cup\pred_{A,R^*}(a))\cap X$. It is non-empty and has an $R$-minimal element since $R$ is well-founded on $\{a\}\cup\pred_{A,R^*}(a)$. Note that such an $R$-minimal element is also $R$-minimal in $X$.
    \item Let $a\in W$. Since $\{a\}\cup\pred_{A,R^*}(a)\subseteq W$ holds and $R$ is well-founded on $W$ as proved above, we have $\rank_{A,R}(a)=\rank_{\{a\}\cup\pred_{A,R^*}}(a)=\rank_{W,R}(a)$ by Lemma I.9.18.
    \item Let $a\in A$. We prove the following.
    \begin{enumerate}
      \item\underline{$a\in W\rightarrow\pred_{A,R^*}(a)\subseteq W$}. let $a\in W$ and consider $x\in\pred_{A,R^*}(a)$. Then $\pred_{A,R^*}(x)\subseteq \pred_{A,R^*}(a)$ holds and we get $x\in W$ from $a\in W$, which says $R$ is well-founded on $\pred_{A,R^*}(a)$. Thus $\pred_{A,R^*}(a)\subseteq W$ holds.
      \item\underline{$\pred_{A,R^*}(a)\subseteq W\rightarrow a\in W$}. This is obvious since $R$ is well-founded on $W$.
      \item\underline{$\pred_{A,R^*}(a)\subseteq W\rightarrow\pred_{A,R}(a)\subseteq W$}. This is obvious too since $\pred_{A,R}(a)\subseteq\pred_{A,R^*}(a)$ holds.
      \item\underline{$\pred_{A,R}(a)\subseteq W\rightarrow\pred_{A,R^*}(a)\subseteq W$}. Assume $\pred_{A,R}(a)\subseteq W$. Consider the following equation $\pred_{A,R^*}(a)=\pred_{A,R}(a)\cup\bigcup_{xRa}\pred_{A,R^*}(x)$. Here we have $\pred_{A,R}(a)\subseteq W$ and $\pred_{A,R^*}(x)\subseteq W$ for all $xRa$ since we have $x\in W$ and $x\in W\rightarrow\pred_{A,R^*}(x)\subseteq W$, which is proved above. Thus $\pred_{A,R^*}(a)\subseteq W$ holds.
    \end{enumerate}
  \end{enumerate}
\end{customthm}

\begin{customthm}{I.9.47}
  Let $A$ be a set, $R$ be a well-founded relation on $A$ and define $H$ by $H=\{(x,z)\in A^2:xRz\wedge\forall y\in A\neg(xRy\wedge yRz)\}$. $H$ is an anti-transitive relation such that $H\subseteq R$. We prove that $R\subseteq H^*$ assuming that $\rank_{A,R}(a)$ is finite for any $a\in A$. Let $x,z\in A$ and $xRz$. We show $xH^*z$ by induction on $\rank(z)-\rank(x)$. Note that $\rank(z)-\rank(x)\geq 1$ whenever $xRz$. If $\rank(z)-\rank(x)=1$, there is no $y\in A$ such that $xRy\wedge yRz$ since for such $y$, $\rank(x)+2\leq\rank(y)+1\leq\rank(z)$ holds. Then we have $xHz$. Next we assume $\rank(z)-\rank(x)>1$. If there is no $y\in A$ such that $xRy\wedge yRz$, we have $xHz$. Otherwise, let $y\in A$ be one such that $xRy\wedge yRz$. Then we have $\rank(x)<\rank(y)<\rank(z)$ and therefore both $\rank(y)-\rank(x)$ and $\rank(z)-\rank(y)$ are smaller than $\rank(z)-\rank(x)$. By inductive hypothesis, we have $H$-paths from $x$ to $y$ and from $y$ to $z$, where the concatenation of these 2 paths yields an $H$-path from $x$ to $z$. Thus, in any case, $xH^*z$ holds. Now we have $H\subseteq R\subseteq H^*$ and we get $H^*=R^*$ by taking the transitive closures.

  However, the uniqueness does not always hold. Here we consider $(4,<)$ . Then according to the above definition, $H$ is defined as $H=\{(0,1),(1,2),(1,3)\}$, but another anti-transitive relation $H'=H\cup\{(0,3)\}$ also satisfies $H'^*=R^*$. To resolve the ambiguity, one could adopt a slightly different definition of anti-transitivity saying that $H$ is anti-transitive if there is no other path from $x$ to $y$ when $xHy$. Under that definition, we redefine $H$ by $H=\{(x,z)\in A^2:xRy\wedge\forall n\geq 1\,\forall y_1,\ldots,y_n\in A\neg(xRy_1R\cdots Ry_nRz)\}$ and consider another 'anti-transitive' $H'\subseteq R$. Since $H$ is the set of all pairs in $R$ that satisfy the necessary condition of being 'anti-transitive', $H'\subseteq H$ always holds. One can easily prove $H'^*\subsetneq H^*$ from $H'\subsetneq H$, where $H\setminus H'\subseteq H^*\setminus H'^*$ holds.

  A counter example is $(\omega+1,<)$, where $H^*=(\omega,<)$ is a proper subset of $(\omega+1,<)$.
\end{customthm}

\begin{customthm}{I.9.48}
  We denote the prerequisite relation as $R$. Define $\Phi:\omega^{<\omega}\rightarrow ON$ by $\Phi(\sigma)=\omega^n\cdot m_n+\cdots+\omega\cdot m_1+m_0$, where each $m_k\in\omega$ is the number of times the number $k\in\omega$ appears in $\sigma$. It is easy to see that $\sigma R\tau\rightarrow\Phi(\sigma)<\Phi(\tau)$ holds. Then by Lemma I.9.9, we know that $(\omega^{<\omega},R)$ is well-founded. Now we show by induction that $\Phi$ is indeed the rank function. Let $X=\{\sigma\in\omega^{<\omega}:\Phi(\sigma)\neq\rank_{\omega^{<\omega},R}(\sigma)\}$, assume $X$ is non-empty and let $\tau\in X$ be an $R$-minimal element. Note that $\tau$ is not $R$-least in the whole $\omega^{<\omega}$ since the only $R$-least element in $\omega^{<\omega}$ is the null sequence $0$, where $\Phi$ and $\rank$ are both $0$. Now consider $\sigma\in\tau\downarrow$ and let $k\in\omega$ be the number that is replaced from $\tau$ to obtain $\sigma$. If we denote $\Phi(\tau)$ by $\Phi(\tau)=\omega^n\cdot m_n+\cdots+\omega\cdot m_1+m_0$, then $\Phi(\sigma)+1$, which is identical to $\rank(\sigma)+1$ by inductive hypothesis, is at most $\omega^n\cdot m_n+\cdots+\omega^{k}\cdot m_k$. When $k>1$, one can get arbitrarily close to this upper bound by thinking of a long enough $\sigma$ where the $k$ in $\tau$ is replaced by many copies of $k-1$. When $k=0$ and $m_0\neq 0$, the only possible $\sigma$ is the sequence obtained by just removing one $0$ from $\tau$, in which case we have $\Phi(\tau)=\Phi(\sigma)+1$. Therefore this $\omega^n\cdot m_n+\cdots+\omega^{k}\cdot m_k$ is the least upper bound of $\rank(\sigma)+1$ when $k$ is fixed and becomes largest when $k$ is the smallest natural number that appears in $\tau$. Thus $\rank(\tau)=\omega^n\cdot m_n+\cdots+\omega\cdot m_1+m_0$ holds, which is nothing but $\Phi(\tau)$. That contradicts the minimality of $\tau$ and we conclude that $\Phi$ gives the rank function.
\end{customthm}

\begin{customthm}{I.9.49}
  Let $F(y)=\{F(x):x\in y\downarrow\}\cup\{\langle 0,y\rangle,\langle 1,y\rangle,\langle 2,y\rangle\}$. We show that this recursive definition of $F$ gives an isomorphism from $(A,R)$ to $(\ran(F),\in)$. To see that $F$ is injective (and hence is bijective to $\ran(F)$), consider distinct elements $y,y'\in A$ such that $F(y)=F(y')$. Since $y\neq y'$, $\langle0,y\rangle\in F(y)$ has to equal some $F(x)$, but this cannot be the case because $\langle0,y\rangle$ has at most 2 elements whereas $F(x)$ has at least 3 elements, namely $\langle 0,x\rangle$, $\langle 1,x\rangle$, and $\langle 2,x\rangle$. Therefore such elements $y,y'$ do not exist and $F$ turns out to be injective. By a similar argument, we get $x\in y\downarrow$ iff $F(x)\in F(y)$. Thus $F$ is an isomorphism.
\end{customthm}

\begin{customthm}{I.9.50}
  We consider $G(x,s)=\bigcup\{\hat{S}(t):t\in\ran(s)\}$ where $\hat{S}(y)=y+1$ when $y\in ON$ and $\hat{S}(y)=0$ otherwise. Let $A$ be a class, $R$ be a relation on $A$ and assume that there is a function $F$ that satisfies $\forall a[F(a)=G(a,F\upharpoonright(a\downarrow))]$. Since $S(y)$ is always an ordinal, $F(a)$ is always an ordinal. Moreover, $xRy\rightarrow F(x)<F(y)$ holds for any $x,y\in A$, which shows that $R$ is well-founded on $A$ by Lemma I.9.9. Thus such an $F$ does not exist if $R$ is not well-founded on $A$, like when $(A,R)=(\mathbb{Z},<)$.
\end{customthm}

\begin{customthm}{I.9.51}
  Assume that $X$ does not have an $R$-minimal element. For each $x\in X$, let $f(x)=\min\{\rank(z):z\in x\downarrow\}$. Note that $f(x)$ is well-defined since every $x\downarrow$ is non-empty. For each $\alpha\in ON$, let $X_\alpha=X\cap R(\alpha)$. Fix $x_0\in X$. For $n\in\omega$, we define $\gamma_n$ recursively by $\gamma_0=\rank(x_0)+1$ and $\gamma_{n+1}=\gamma_n\cup\{f(x):x\in X_{\gamma_n}\}$. Let $\gamma=\sup\{\gamma_n:n\in\omega\}$. Let $x\in X_\gamma$ and let $n\in\omega$ be one such that $x\in X_{\gamma_n}$. Then $f(x)<\gamma_{n+1}\leq\gamma$ holds by definition. Now we have $\forall x\in X_\gamma[f(x)<\gamma]$, which means $\forall x\in X_\gamma\exists z\in X_\gamma[z\downarrow x]$, which further means that $R$ is not well-founded on the set $X_\gamma$ since $X_\gamma$ is not empty. That contradicts the well-foundedness of $V$ and thus we conclude that $X$ has an $R$-minimal element.
\end{customthm}

\begin{customthm}{I.9.52}
  Let $\alpha,\beta,\gamma\in ON$. We prove the following by induction on $\gamma$.
  \begin{enumerate}
    \item\underline{$\alpha^{\beta+\gamma}=\alpha^\beta\cdot\alpha^\gamma$}.
    \begin{enumerate}
      \item\underline{$\gamma=0$}. $\alpha^{\beta+\gamma}=\alpha^{\beta+0}=\alpha^\beta=\alpha^\beta\cdot 1=\alpha^\beta\cdot\alpha^0=\alpha^\beta\cdot\alpha^\gamma$.
      \item\underline{$\gamma=\delta+1$}. $\alpha^{\beta+\gamma}=\alpha^{\beta+(\delta+1)}=\alpha^{(\beta+\delta)+1}=\alpha^{\beta+\delta}\cdot\alpha=(\alpha^\beta\cdot\alpha^\delta)\cdot\alpha=\alpha^\beta\cdot(\alpha^\delta\cdot\alpha)=\alpha^\beta\cdot\alpha^{\delta+1}=\alpha^\beta\cdot\alpha^\gamma$.
      \item\underline{$\gamma$ being a limit}. $\alpha^{\beta+\gamma}=\sup_{\varepsilon<\beta+\gamma}(\alpha^\varepsilon)=\sup_{\delta<\gamma}(\alpha^{\beta+\delta})=\sup_{\delta<\gamma}(\alpha^\beta\cdot\alpha^\delta)=\sup_{\varepsilon<\alpha^\gamma}(\alpha^\beta\cdot\varepsilon)=\alpha^\beta\cdot\alpha^\gamma$.
    \end{enumerate}
    \item\underline{$(\alpha^\beta)^\gamma=\alpha^{\beta\cdot\gamma}$}.
    \begin{enumerate}
      \item\underline{$\gamma=0$}. $(\alpha^\beta)^\gamma=(\alpha^\beta)^0=1=\alpha^{0}=\alpha^{\beta\cdot 0}=\alpha^{\beta\cdot\gamma}$.
      \item\underline{$\gamma=\delta+1$}. $(\alpha^\beta)^\gamma=(\alpha^\beta)^{\delta+1}=(\alpha^\beta)^{\delta}\cdot\alpha^\beta=\alpha^{\beta\cdot\delta}\cdot\alpha^\beta=\alpha^{\beta\cdot\delta+\beta}=\alpha^{\beta\cdot(\delta+1)}=\alpha^{\beta\cdot\gamma}$.
      \item\underline{$\gamma$ being a limit}. $(\alpha^\beta)^\gamma=\sup_{\delta<\gamma}((\alpha^\beta)^\delta)=\sup_{\delta<\gamma}(\alpha^{\beta\cdot\delta})=\sup_{\varepsilon<\beta\cdot\gamma}(\alpha^\varepsilon)=\alpha^{\beta\cdot\gamma}$.
    \end{enumerate}
  \end{enumerate}
  Note that 2(b) uses the addition theorem proved in 1. The supremum substitutions like $\sup_{\varepsilon<\beta+\gamma}(\alpha^\varepsilon)=\sup_{\delta<\gamma}(\alpha^{\beta+\delta})$ as in the limit cases are not obvious, but one can easily derive them by using the facts such as $\varepsilon<\beta+\gamma\leftrightarrow\exists\delta<\gamma[\varepsilon<\beta+\delta]$.
\end{customthm}

\begin{customthm}{I.9.53}
  We prove the following.
  \begin{enumerate}
    \item\underline{(a)$\rightarrow$(d)}. Let $\delta$ be the least ordinal such that $\gamma<\omega^{\delta+1}$. We divide $\gamma$ by $\omega^\delta$ to get a representation $\gamma=\omega^{\delta}\cdot\xi+\eta$ where $0<\xi<\omega$ and $\eta<\omega^\delta$. If $\xi>1$, we can think of $\alpha=\beta=\omega^\delta\cdot(\xi-1)+\eta$, which satisfies $\alpha+\beta\geq\gamma$. If $\xi=1$ and $\eta>0$, we can think of $\alpha=\beta=\omega^\delta+\eta-1$, which satisfies $\alpha+\beta\geq\gamma$. Then by assuming (a), we get $(\xi,\eta)=(1,0)$. That shows $\gamma=\omega^\delta$.
    \item\underline{(d)$\rightarrow$(c)}. We prove this by induction on $\delta$ even if $\gamma$ is not a limit ordinal. Let $X\subseteq\gamma$ throughout the proof. If $\delta=0$, (c) is trivial since $\gamma$ is $1$ and only $X=0$ or $X=1$ is possible. If $\delta=\xi+1$, let $S_n=\omega^\xi\cdot(n+1)\setminus\omega^\xi\cdot n$, $X_n=X\cap S_n$ and $X^c_n=S_n\setminus X$ for $n\in\omega$. It holds that $\forall n\in\omega[\type(S_n)=\omega^\xi]$, $X=\biguplus_{n<\omega}X_n$ and $\gamma\setminus X=\biguplus_{n<\omega}X^c_n$. By assuming the inductive hypothesis, at least one of $\{X_n:n\in\omega\}$ or $\{X^c_n:n\in\omega\}$ turns out to have infinitely many elements of type $\omega^\xi$. We assume WLOG that $\{X_n:n\in\omega\}$ is one. Then we get $\type(X)=\omega^{\xi+1}$. If $\delta$ is a limit ordinal, let $X_\xi=X\cap\omega^\xi$ and $X^c_\xi=\omega^\xi\setminus X$ for $\xi<\delta$. It holds that $X=\bigcup_{\xi<\delta}X_\xi$ and $\gamma\setminus X=\bigcup_{\xi<\delta}X^c_\xi$. By assuming the inductive hypothesis, at least one of $\{\xi<\delta:\type(X_\xi)=\omega^\xi\}$ or $\{\xi<\delta:\type(X^c_\xi)=\omega^\xi\}$ turns out to be unbounded under $\delta$. We assume WLOG that $\{\xi<\delta:\type(X_\xi)=\omega^\xi\}$ is one. Then $\type(X)=\omega^\delta$ holds. Thus (c) holds for all $\gamma=\omega^\delta$.
    \item\underline{(c)$\rightarrow$(b)}. Let $\alpha<\gamma$. By assuming (c), we have $\type(\gamma\setminus\alpha)=\gamma$. On the other hand, it is easy to see that $\alpha+\type(\gamma\setminus\alpha)=\gamma$ holds since stacking up $\gamma\setminus\alpha$ on top of $\alpha$ gives us $\gamma$. Thus $\alpha+\gamma=\alpha+\type(\gamma\setminus\alpha)=\gamma$ holds.
    \item\underline{(b)$\rightarrow$(a)}. Assuming (b), we easily get $\alpha+\beta<\alpha+\gamma=\gamma$ for any $\alpha,\beta<\gamma$.
  \end{enumerate}
\end{customthm}

\begin{customthm}{I.9.54}
  We first note that if we have $\alpha=\omega^{\beta_1}\cdot n_1+\cdots+\omega^{\beta_k}\cdot n_k$ where $k,n_1,\ldots,n_k\in\omega\setminus\{0\}$ and $\beta_1>\cdots>\beta_k$, then $\alpha\geq\beta_1$ holds. This is because $\omega^\alpha\geq\alpha\geq\omega^{\beta_1}$ holds. One can easily prove this $\omega^\alpha\geq\alpha$ by induction.

  Now for any ordinal $\beta>0$, let $T_\beta$ say that the rest of the theorem holds for all $0<\alpha<\omega^\beta$. We prove $T_\beta$ by induction on $\beta>0$. If $\beta=1$, then $\alpha=n\in\omega$ holds, which clearly satisfies $T_1$. If $\beta=\gamma+1$, we divide $\alpha$ by $\omega^\gamma$ to represent it uniquely by $\alpha=\omega^\gamma\cdot n+\delta$, where $n\in\omega$ and $\delta<\omega^\gamma$. Then by assuming the inductive hypothesis, we get a unique decomposition of $\alpha$, satisfying $T_\beta$. If $\beta$ is a limit ordinal, $\alpha<\omega^\gamma$ holds for some $\gamma<\beta$, where $T_\gamma$ is obvious if we assume the inductive hypothesis. Thus $T_\beta$ is proved for any ordinal $\beta>0$. Now we can conclude the statement of the theorem by thinking of $T_\beta$ where $\beta=\min\{\beta\in ON:\alpha<\omega^\beta\}$.
\end{customthm}

\begin{customthm}{I.9.55}
  We prove it by induction on $\beta$. If $\beta=0$, then $F(\alpha,\beta)=\{\{\}\}$ and that is trivially isomorphic to $\alpha^0=1$. If $\beta=\gamma+1$, Then $(F(\alpha,\beta),\triangleleft)\cong(\alpha\times F(\alpha,\gamma),\triangleleft')$ holds by inductive hypothesis, where $\triangleleft'$ is the lexicographic product of the ordinary ordinal order $<$ and $\triangleleft$. Therefore we get $F(\alpha,\beta)\cong\alpha^\gamma\times\alpha=\alpha^{\beta}$. If $\beta$ is a limit ordinal, assume the inductive hypothesis and for $\gamma<\beta$, let $i_\gamma$ be the isomorphism from $F(\alpha,\gamma)$ to $\alpha^\gamma$. Then $\bigcup_{\gamma<\beta}i_\gamma$ gives us the isomorphism from $F(\alpha,\beta)$ to $\alpha^\beta$. Thus $F(\alpha,\beta)\cong\alpha^\beta$ holds for all $\beta$ (and for all $\alpha$).
\end{customthm}

\begin{customthm}{I.9.56}
  Throughout the proof below, for $\xi,\eta\in ON$ such that $\xi<\eta$, we denote as $\eta-\xi$ the unique ordinal $\zeta$ such that $\eta=\xi+\zeta$. Also note that ordinary arithmetic laws such as the distributive law $\alpha\cdot(\eta-\xi)=\alpha\cdot\eta-\alpha\cdot\xi$ are assumed in the proof, which one can prove in a straightforward manner.

  We induct on $\max\{\alpha,\beta\}$. If $\max\{\alpha,\beta\}=1$, then $\alpha=\beta=1$ and we have the greatest common divisor of $1$. If $\max\{\alpha,\beta\}>1$, we assume WLOG that $\alpha<\beta$ and let $\delta,\gamma$ be the unique ordinals such that $\beta=\alpha\cdot\delta+\gamma$ and $\gamma<\alpha$. By assuming the inductive hypothesis, we have the greatest common divisor $\xi$ of $\gamma$ and $\alpha$. We prove that this $\xi$ is also the greatest common divisor of $\alpha$ and $\beta$. Let $\lambda,\nu$ be the unique ordinals such that $\alpha=\xi\cdot\lambda$ and $\gamma=\xi\cdot\nu$. Then $\beta=\alpha\cdot\delta+\gamma=\xi\cdot(\lambda\cdot\delta+\nu)$ holds, which shows $\xi~|~\beta$. To see the maximality of $\xi$, let $\eta$ be a common divisor of $\alpha$ and $\beta$, and let $\lambda',\mu'$ be the quotients. Then $\gamma=\beta-\alpha\cdot\delta=\eta\cdot(\mu'-\lambda\cdot\delta)$ holds, which shows $\eta~|~\gamma$. Thus the maximality of $\xi$ as a common divisor of $\alpha$ and $\beta$ follows from the maximality of $\xi$ as a common divisor of $\gamma$ and $\alpha$. Hence the greatest common divisor always exists.
\end{customthm}

\begin{customthm}{I.11.7}
  Skipped for now.
\end{customthm}

\begin{customthm}{I.11.8}
  Let $\eta$ be a limit ordinal. Since every $\delta_\xi$ is a limit ordinal for $\xi>0$, $\aleph_{\delta_\eta}=\sup_{\zeta<\delta_\eta}\aleph_\zeta$ holds by definition of $\aleph$. On the other hand, $\delta_\eta=\sup_{\xi<\eta}\delta_\xi=\sup_{\xi<\eta}\delta_{\xi+1}=\sup_{\xi<\eta}\aleph_{\delta_\xi}$ holds by definition of $\delta$. It is obvious that $\sup_{\zeta<\delta_\eta}\aleph_\zeta\geq\sup_{\xi<\eta}\aleph_{\delta_\xi}$ holds since both $\aleph$ and $\delta$ are increasing and for an arbitrary $\xi<\eta$, we can choose $\zeta=\delta_\xi$ to show $\sup_{\zeta<\delta_\eta}\aleph_\zeta\geq\aleph_{\delta_\xi}$. To prove the opposite direction, let $\zeta<\delta_\eta$ and take a $\xi<\eta$ such that $\zeta<\delta_\xi$. Then $\aleph_\zeta\leq\aleph_{\delta_\xi}\leq\sup_{\xi<\eta}\aleph_{\delta_\xi}$ holds. Since $\zeta$ is arbitrary, we get $\sup_{\zeta<\delta_\eta}\aleph_\zeta\leq\sup_{\xi<\eta}\aleph_{\delta_\xi}$. Thus we have $\sup_{\zeta<\delta_\eta}\aleph_\zeta=\sup_{\xi<\eta}\aleph_{\delta_\xi}$, which is $\aleph_{\delta_\eta}=\delta_\eta$.
\end{customthm}

\begin{customthm}{I.12.5}
  Let $\kappa=|A\setminus\{0\}|$ and list $A\setminus\{0\}$ as $\{a_\alpha:\alpha<\kappa\}$. We recursively define $B_\alpha$ for $\alpha\leq\kappa$ as follows.
  \begin{itemize}
    \item $B_0=\emptyset$
    \item $B_{\alpha+1}=
      \begin{cases}
        B_\alpha & \text{if }a_\alpha\in\textrm{span}_{\xi<\alpha}(B_\xi) \\
        B_\alpha\cup\{a_\alpha\} & \text{otherwise}
      \end{cases}$
    \item $B_\alpha=\sup_{\xi<\alpha}B_\xi$ if $\alpha$ is a limit
  \end{itemize}
  Then $B_\kappa$ is a basis of $A$. Indeed, $B_\alpha$ is linearly independent for $\alpha\leq\kappa$, and $a_\alpha\in\textrm{span}(B_{\alpha+1})$ holds for $\alpha<\kappa$.
\end{customthm}

\begin{customthm}{I.12.6} (halfway)
  We only prove that the Tychonov Theorem implies $AC$. Let $F=(X_i)_{i\in I}$ be a family of non-empty sets and let $\infty\not\in\bigcup F$. We consider $Y_i=X_i\cup\{\infty\}$ for each $i\in I$ and topologize it by defining the set of open sets by $\{\emptyset,\{\infty\},Y_i\}$. With this topology, each $Y_i$ becomes a compact space and $X_i\subseteq Y_i$ is a closed subset. Moreover, the product space $\prod_{i\in I}Y_i$ is compact by the Tychonov Theorem. Now consider the projection $\pi_i:\prod_{i\in I}Y_i\rightarrow Y_i$ for each $i\in I$. It is continuous since we consider the product topology for $\prod_{i\in I}Y_i$, and the inverse image $\pi_i^{-1}(X_i)$ is closed since $X_i$ is closed. Now consider a family $G=(\pi_i^{-1}(X_i))_{i\in I}$ of closed sets of $\prod_{i\in I}Y_i$. It has the finite intersection property since for a given finite subfamily $\{\pi_{i_0}^{-1}(X_{i_0}),\ldots,\pi_{i_{n-1}}^{-1}(X_{i_{n-1}})\}$, we have a function $f$ in the intersection defined by $f(i_j)=x_{i_j}$ for $j<n$ and $f(i)=\infty$ otherwise, where $x_{i_j}\in X_{i_j}$. Then by the compactness of $\prod_{i\in I}Y_i$, $\bigcap G\neq0$ holds. This $\bigcap G$ is nothing but $\prod_{i\in I}X_i=\prod F$, which proves $AC$.
\end{customthm}

\begin{customthm}{I.12.17}
  Assuming $AC$, it is obvious that $\mathcal{P}(\delta)$ can be well-ordered for all $\delta\in ON$ because any set is well-orderable under $AC$. To prove the converse, we show that every $R(\gamma)$ for a limit ordinal $\gamma$ is well-orderable by recursively constructing a well-order $\triangleleft_\alpha$ on $R(\alpha)$ for each $\alpha\leq\gamma$. Let $\kappa$ be a cardinal such that $\kappa\not\preccurlyeq R(\gamma)$ and let $\sqsubset$ be a well-order of $\mathcal{P}(\kappa)$. Now we define $\triangleleft_\alpha$ for $\alpha\leq\gamma$ as follows.
  \begin{itemize}
    \item $\triangleleft_0=\emptyset$
    \item $x\triangleleft_{\xi+1}y$ iff
      $\begin{cases}
        \text{True} & \text{if }\rank(x)<\rank(y) \\
        x\triangleleft_\xi y & \text{if }\rank(x)=\rank(y)<\xi \\
        \{f(z):z\in x\}\sqsubset\{f(z):z\in y\} & \text{if }\rank(x)=\rank(y)=\xi
      \end{cases}$

      where $f:R(\xi)\rightarrow\type(R(\xi),\triangleleft_\xi)$ is the order-isomorphism
    \item $\triangleleft_\alpha=\bigcup_{\xi<\alpha}\triangleleft_\xi$ if $\alpha$ is a limit
  \end{itemize}
  Note that for all $\alpha<\gamma$, it holds that $\type(R(\alpha),\triangleleft_\alpha)\leq\kappa$ since otherwise we would have $\kappa<\type(R(\alpha),\triangleleft_\alpha)\approx R(\alpha)\preccurlyeq R(\gamma)$, which contradicts our assumption $\kappa\not\preccurlyeq R(\gamma)$. It is easy to see that each $\triangleleft_\alpha$ indeed well-orders $R(\alpha)$. Now assume Foundation and let $\gamma$ be a limit ordinal such that $x\subseteq R(\gamma)$ for a given set $x$. Then by well-ordering $R(\gamma)$ as above, we get a well-order of $x$, which shows $AC$.
\end{customthm}

\begin{customthm}{I.13.33}
  We prove the following.
  \begin{enumerate}
    \item\underline{$(\beth_\omega)^{\aleph_0}\leq\beth_{\omega+1}$}.$\because(\beth_\omega)^{\aleph_0}\leq(2^{\beth_\omega})^{\aleph_0}=2^{|\beth_\omega\times\aleph_0|}=2^{\beth_\omega}=\beth_{\omega+1}$.
    \item\underline{$\beth_{\omega+1}\leq\prod_{n\in\omega}\beth_n$}. Let $\mathcal{F}=\{f\in{}^\omega\beth_\omega:\forall n\,f(n)\in\beth_n\}$ and let $(g_n:\mathcal{P}(\beth_n)\rightarrow\beth_{n+1})_{n\in\omega}$ be a family of bijections. Consider $F:\mathcal{P}(\beth_\omega)\rightarrow\mathcal{F}$ defined by $F(S)(0)=0$ and $F(S)(n+1)=g_n(S\cap(\beth_n\setminus\beth_{n-1}))$ where $\beth_{-1}=\emptyset$. This $F$ is injective and thus we have $\beth_{\omega+1}\approx\mathcal{P}(\beth_\omega)\preccurlyeq\prod_{n\in\omega}\beth_n$.
    \item\underline{$\prod_{n\in\omega}\beth_n\leq(\beth_\omega)^{\aleph_0}$}. This is obvious from the definition of $\prod_{n\in\omega}$.
  \end{enumerate}
\end{customthm}

\begin{customthm}{I.13.34}
  We first prove that the dual of a $\kappa$-dimensional infinite vector space over $F$ has dimension $|F|^\kappa$. Note that any $\kappa$-dimensional infinite vector space over $F$ is isomorphic to the direct sum $F^{(\kappa)}$, which is the set of functions from $\kappa$ to $F$ with only finitely many non-zero elements in their ranges. Here $(\delta_\xi:\kappa\rightarrow F)_{\xi\in F}$ defined by $\delta_\xi(\xi)=1$ and $\delta_\xi(\eta)=0$ for $\eta\neq\xi$ is a basis of cardinality $\kappa$. Now consider the dual space of $F^{(\kappa)}$. It is actually the direct product $F^\kappa$, which is the vector space consisting of any functions $f:\kappa\rightarrow F$. Its dimension $d$ turns out to be at least $|F|$ by considering the linearly independent sequence $(f_x:\kappa\rightarrow F)_{x<|F|}$ of $F^\kappa$ defined by $f_x(n)=x^n$ for $n\in\omega$ and $f_x(\xi)=0$ for $\xi\geq\omega$. On the other hand, it holds that $|F|^\kappa=\max(|F|,d)$, which one can easily prove by considering the representation of each vector by a unique finite weighted sum of the basis. Thus $d=|F|^\kappa$ holds.

  Now we show that $\dim(W_\omega)=\beth_\omega$. To prove that $\dim(W_\omega)\leq\beth_\omega$, it suffices to show $\dim(W_n)<\beth_\omega$ for each $n\in\omega$. This can be easily proved by induction. Firstly, $\dim(W_0)<\beth_\omega$ holds by the assumption. Assuming the inductive hypothesis and letting $m\in\omega$ be one such that $\max(|F|, \dim(W_n))\leq\beth_m$, we have $\dim(W_{n+1})=|F|^{|F|^{\dim(W_{n})}}\leq(\beth_m)^{(\beth_m)^{\beth_m}}=\beth_{m+2}<\beth_\omega$. For the opposite direction $\dim(W_\omega)\geq\beth_\omega$, consider the smallest case, which is $|F|=2$ and $\dim(W_0)=\aleph_0$. It is easy to see that $\dim(W_n)=\beth_{2n}$, in which case $\dim(W_\omega)=\beth_\omega$ holds. Thus we finally conclude that $\dim(W_\omega)=\beth_\omega$ holds for any case.
\end{customthm}

\begin{customthm}{I.13.35}
  Skipped for now.
\end{customthm}

\begin{customthm}{I.13.36}
  We induct on $n\geq1$. If $n=1$, we easily get $(\aleph_1)^{\aleph_0}=(2^{\aleph_0})^{\aleph_0}=2^{|\aleph_0\times\aleph_0|}=2^{\aleph_0}=\aleph_1$, assuming the continuum hypothesis $\aleph_1=2^{\aleph_0}$. Now for $n\geq2$, consider the following mapping $F:{}^\omega\omega_n\rightarrow\bigcup_{\xi<\omega_n}(\{\xi\}\times{}^\omega\xi)$ defined by $F(f)=(\sup_{\alpha<\omega}f(\alpha)+1,f)$. Note that this $F$ is well-defined since every $f:\omega\rightarrow\omega_n$ is bounded because of the regularity of $\aleph_n$. Assuming the inductive hypothesis, we have $|\{\xi\}\times{}^\omega\xi|\leq(\aleph_{n-1})^{\aleph_0}=\aleph_{n-1}$ for every $\xi<\omega_n$. Thus by Theorem I.12.14, $|\bigcup_{\xi<\omega_n}(\{\xi\}\times{}^\omega\xi)|=\aleph_n$ holds. Since $F$ is injective, we have $(\aleph_n)^{\aleph_0}=|{}^\omega\omega_n|\leq\aleph_n$. $\aleph_n\leq(\aleph_n)^{\aleph_0}$ is obvious. Hence we get $(\aleph_n)^{\aleph_0}=\aleph_n$ for every $n\geq1$.
\end{customthm}

\begin{customthm}{I.13.37}
  Let $\kappa$ be an infinite cardinal and $\triangleleft$ be any well-order of it. We first assume that $\kappa$ is regular. We define a family of sets $(X_\xi)_{\xi\leq\kappa}$ recursively by $X_0=\emptyset$, $X_{\xi+1}=X_\xi\cup\{\min_\triangleleft\{\zeta<\kappa:\forall\eta\in X_\xi[\eta<\zeta]\}\}$ and $X_\eta=\bigcup_{\xi<\eta}X_\xi$. Note that this is well-defined due to the regularity of $\kappa$. Moreover, $\eta\triangleleft\zeta\leftrightarrow\eta<\zeta$ holds for $\eta,\zeta\in X_\xi$. Then $X_\kappa$, which has cardinality $\kappa$, is what we want.

  If $\kappa$ is not regular, Let $\lambda=\cf(\kappa)$ and consider $W\subseteq\kappa$ such that $\type(W)=\lambda$ and $\sup(W)=\kappa$. Then $W^+=\{\mu^+:\mu\in W\}$ is a set of regular cardinals that has type $\lambda$ and satisfies $\sup(W^+)=\kappa$ as well. Now we list $W^+$ as $W^+=\{\kappa_\nu:\nu<\lambda\}$ and for each $\nu<\lambda$, define $X_\nu\subseteq\kappa_\nu$ as above that satisfies $|X_\nu|=\kappa_\nu$ and $\forall\eta,\zeta\in X_\nu[\eta\triangleleft\zeta\leftrightarrow\eta<\zeta]$. Then $X=\bigcup_{\nu<\lambda}X_\nu$ is what we want. Indeed, we have $|X|\geq\sup_{\nu<\lambda}|X_\nu|=\kappa$, and for any $\eta,\zeta<\kappa$, taking $\nu<\lambda$ such that $\eta,\zeta<\kappa_\nu$, we get $\eta\triangleleft\zeta\leftrightarrow\eta<\zeta$.
\end{customthm}

\end{document}
